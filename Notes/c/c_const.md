# 📘 C 語言 `const` 與 Pointer 完整講解與練習

本文件整理了 C 語言中 `const` 搭配指標的用法，包括語法拆解、記憶口訣、練習題與完整解析，適合面試準備與觀念釐清。

---

## 🧠 一張表理解 `const` 與 pointer 的組合

| 宣告 | 中文解釋 | 可否改值 | 可否改指向 |
|------|-----------|-----------|---------------|
| `const int *p` | 指向常數整數的指標 | ❌ | ✅ |
| `int *const p` | 常數指標，指向整數 | ✅ | ❌ |
| `const int *const p` | 常數指標，指向常數整數 | ❌ | ❌ |
| `int const *p` | 同 `const int *p` | ❌ | ✅ |

---

## 📚 拆解規則與記憶口訣

- `"const 在 * 左邊，是不能改值"` → `const int *p`
- `"const 在 * 右邊，是不能改指標"` → `int *const p`
- `"左右都有 const，全部都不能改"` → `const int *const p`

---

## 🧪 測試範例

```c
int a = 5, b = 10;

const int *p1 = &a;   // ✅ 可以改 p1 的指向
// *p1 = 6;           ❌ 錯誤：不能改值

int *const p2 = &a;   // ✅ 可以改 *p2 的內容
*p2 = 6;
// p2 = &b;           ❌ 錯誤：不能改指向

const int *const p3 = &a;
// *p3 = 7;           ❌ 錯
// p3 = &b;           ❌ 錯
```

---

## 🔍 `const` 與指標 — 練習題詳解

### Q1. `const int *p;`  
**答案：A. 指向常數整數的指標**  
📘 你不能透過 `p` 改變它所指向的值，但可以改變 `p` 本身的指向。

---

### Q2. `int *const p;`  
**答案：B. 常數指標，指向整數**  
📘 `p` 是常數指標，不能改變它的指向，但可以修改它所指向的內容。

---

### Q3. `const int *const p;`  
**答案：A. 指向常數整數的常數指標**  
📘 不能改變 `p` 的位址，也不能修改 `*p` 的值。

---

### Q4.
```c
const int *p = &a;
*p = 6;    // ❌ 錯：不能改值
p = &b;    // ✅ 合法：可以改變 p 的指向
```
**答案：A. 只有第一行錯**

---

### Q5.
```c
int *const p = &a;
*p = 10;   // ✅ 合法：可以改值
p = &b;    // ❌ 錯：不能改變指向
```
**答案：B. 第一行合法，第二行錯**

---

### Q6. `void print(const int *data);`  
**答案：A. 函式不能修改 data 的內容**  
📘 `data` 是指向常數的指標，可用於保護引數內容。

---

### Q7. `int const *x;`  
**答案：B. `const int *x;`**  
📘 `const` 在 `int` 前或後是等價的，代表所指值不能修改。

---

### Q8. `const int * const p;`  
**答案：C. `p` 和 `*p` 都不能改**  
📘 `p` 是常數指標，`*p` 是常數值。兩者都不能修改。

---

### Q9.
```c
const int *p = arr;
p[1] = 10; // ❌ 不合法：不能透過 p 修改值
```
**答案：B. 不合法，不能透過 p 改值**

---

### Q10.
```c
void func(const int *p);
```
合法呼叫：
```c
int x = 5; func(&x);           // ✅
const int x = 10; func(&x);    // ✅
func(NULL);                    // ✅
```
**答案：D. 以上皆可**

---

> ✅ 建議你搭配練習與實際寫 code 驗證 `const` 行為，理解會更牢固！